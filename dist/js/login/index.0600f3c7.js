import{_ as x,S as X,W as Q,u as Z,l as G}from"../../assets/index-dad82031.js";import{f as u,E as U,o as h,c as b,a as t,V as s,u as $,U as J,H as I,aA as K,aB as P,ah as m,_ as ee,j as te,O as E,P as _,a9 as O,S as j,a3 as M,T as S,i as oe,Z as se}from"../@vue/@vue.e2fe22e8.js";import{u as B,a as ne}from"../vue-router/vue-router.62ea77a8.js";import{d as ae}from"../lodash-es/lodash-es.facb48df.js";import"../element-plus/element-plus.d7de122a.js";import"../@element-plus/@element-plus.5b94a560.js";import"../@popperjs/@popperjs.c75af06c.js";import"../@ctrl/@ctrl.f8748455.js";import"../dayjs/dayjs.b8791c9c.js";import"../clipboard/clipboard.45ef5b9b.js";import"../async-validator/async-validator.dee29e8b.js";import"../memoize-one/memoize-one.297ddbcb.js";import"../escape-html/escape-html.bccd5692.js";import"../normalize-wheel-es/normalize-wheel-es.ed76fb12.js";import"../@floating-ui/@floating-ui.682dc3ac.js";import"../pinia/pinia.261327f3.js";import"../js-cookie/js-cookie.edb2da2a.js";import"../axios/axios.4a70c6fc.js";import"../geotiff/geotiff.41c905a7.js";import"../path-to-regexp/path-to-regexp.6c7b4327.js";import"../fuse.js/fuse.js.88e2763d.js";import"../path-browserify/path-browserify.cb69e156.js";import"../screenfull/screenfull.b3e6dc1f.js";import"../vue-i18n/vue-i18n.90b8095f.js";import"../@intlify/@intlify.771bffe6.js";import"../mitt/mitt.f7ef348c.js";import"../@vueuse/@vueuse.bcdec864.js";import"../nprogress/nprogress.6ec30c0f.js";/* empty css                                 */import"../xe-utils/xe-utils.78945774.js";import"../vxe-table/vxe-table.e2a848aa.js";import"../vue3-lottie/vue3-lottie.dd2d606e.js";import"../lottie-web/lottie-web.88e5cf38.js";const T=()=>{const e=navigator.userAgent.toLowerCase(),n=e.match(/iphone os/i)=="iphone os",i=e.match(/midp/i)=="midp",r=e.match(/rv:1.2.3.4/i)=="rv:1.2.3.4",l=e.match(/ucweb/i)=="ucweb",c=e.match(/android/i)=="android",o=e.match(/windows ce/i)=="windows ce",w=e.match(/windows mobile/i)=="windows mobile";return!!(n||i||r||l||c||o||w)};const N=e=>(K("data-v-f13b15f6"),e=e(),P(),e),ce={class:"copyright-container"},ie=N(()=>t("div",{class:"title syRegular"},[t("div",{class:"copyright-items"},"帮助"),t("div",{class:"copyright-items"},"隐私"),t("div",{class:"copyright-items"},"条款")],-1)),re=N(()=>t("span",{style:{"margin-top":"5px"}}," 设备管理软件 ",-1)),le=I({name:"YuCopyright"}),de=Object.assign(le,{setup(e){const n=u(2021);return U(()=>{n.value=new Date().getFullYear()}),(i,r)=>(h(),b("div",ce,[ie,t("span",null,[s($(X),{"icon-class":"copyright",class:"icon"}),t("i",null,"copyright © "+J(n.value)+" 富浦思食品设备(广东)有限公司",1)]),re]))}}),V=x(de,[["__scopeId","data-v-f13b15f6"]]),pe=Object.assign(V,{install(e){e.component(V.name,V)}}),_e=""+new URL("../../assets/logo-5ae00ccc.png",import.meta.url).href;const ue={class:"logo-contanier"},me=["src"],he=I({name:"Logo"}),fe=Object.assign(he,{setup(e){return(n,i)=>(h(),b("div",ue,[t("img",{src:$(_e),alt:""},null,8,me)]))}}),ge=x(fe,[["__scopeId","data-v-020482bb"]]);const ve={class:"third-login-contanier"},we={__name:"weChatLogin",setup(e){const n=B(),i=()=>{const{redirect:r}=n.query,{origin:l,pathname:c}=window.location,o=r?`${l}${c}#/relation?redirect=${r}`:`${l}${c}#/relation`,w="snsapi_login",C=Math.ceil(Math.random()*1e3),f=encodeURIComponent(decodeURIComponent(o)),k=`https://open.weixin.qq.com/connect/qrconnect?appid=${Q}&redirect_uri=${f}&response_type=code&scope=${w}&state=${C}#wechat_redirect`;window.open(k,"_blank")};return(r,l)=>{const c=m("svg-icon");return h(),b("div",ve,[s(c,{"class-name":"icons ","icon-class":"wechat",onClick:i})])}}},ye=x(we,[["__scopeId","data-v-5dc3a9eb"]]);const be={style:{position:"relative"}},xe={class:"code-inp"},$e={class:"code"},Ie=["src"],Ce=I({name:"LoginPwd"}),ke=Object.assign(Ce,{setup(e){const n=ne(),i=B(),r=Z(),l=u(),c=["blur","change"],o=ee({country:"86",captcha:"",account:"admin",password:"admin9527"}),w={account:[{required:!0,message:"请输入手机或邮箱账号",trigger:c}],password:[{required:!0,message:"请输入密码",trigger:c}],captcha:[{required:!0,message:"请输入校验码",trigger:c}]},C=u(""),f=u(!1),k=u(""),A=u(""),g=u(!1),F=te(()=>{const{captcha:d,account:a,password:p}=o;return f.value?!d||!a||!p:!a||!p});U(()=>{W()});function W(){const d=i.query;C.value=d.bindToken||""}async function q(){}async function Y(){g.value=!0;try{const d="token";r.SET_TOKEN(d),n.push("/")}catch{}finally{g.value=!1}}function L(){g.value=!0,l.value.validate(async d=>{if(d)try{const a={username:o.account,password:o.password};f.value&&(a.captchaId=A.value,a.captchaValue=o.captcha);const{data:p}=await G({params:a}),{token:v}=p;r.SET_TOKEN(v),n.push("/")}catch{}finally{g.value=!1,f.value&&await q()}})}return(d,a)=>{const p=m("el-input"),v=m("el-form-item"),z=m("el-button"),D=m("el-link"),H=m("el-form");return h(),E(H,{ref_key:"ruleForm",ref:l,model:o,rules:w,"label-width":"0","status-icon":"",class:"login-ruleForm"},{default:_(()=>[s(v,{prop:"account"},{default:_(()=>[s(p,{ref:"account",modelValue:o.account,"onUpdate:modelValue":a[0]||(a[0]=y=>o.account=y),class:"h40",name:"account",placeholder:"邮箱/手机",clearable:!0,tabindex:"1",type:"text",maxlength:"100",autocomplete:"off"},null,8,["modelValue"])]),_:1}),s(v,{prop:"password"},{default:_(()=>[s(p,{ref:"password",modelValue:o.password,"onUpdate:modelValue":a[1]||(a[1]=y=>o.password=y),class:"h40","show-password":"",name:"password",placeholder:"请输入密码",clearable:!0,tabindex:"2",maxlength:"16",type:"password",autocomplete:"off",onKeyup:O(L,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),f.value?(h(),E(v,{key:0,prop:"captcha"},{default:_(()=>[t("div",be,[t("div",xe,[s(p,{ref:"captcha",modelValue:o.captcha,"onUpdate:modelValue":a[2]||(a[2]=y=>o.captcha=y),class:"h40",type:"text",name:"captcha",placeholder:"请输入校验码",clearable:!0,tabindex:"3",maxlength:"6",autocomplete:"off",onKeyup:O(L,["enter"])},null,8,["modelValue","onKeyup"])]),t("div",$e,[t("img",{src:k.value,alt:"",onClick:q},null,8,Ie)])])]),_:1})):j("",!0),s(v,{style:{"margin-bottom":"0"}},{default:_(()=>[s(z,{class:"h40",loading:g.value,disabled:F.value,type:"primary",style:{width:"100%"},onClick:M(L,["prevent"])},{default:_(()=>[S(" 快速登录 ")]),_:1},8,["loading","disabled","onClick"]),s(D,{type:"primary",underline:!1,loading:g.value,class:"",style:{width:"100%",margin:"15px"},onClick:M(Y,["prevent"])},{default:_(()=>[S(" 免登录 ")]),_:1},8,["loading","onClick"])]),_:1})]),_:1},8,["model"])}}}),Le=x(ke,[["__scopeId","data-v-7ad8fee5"]]);const R=e=>(K("data-v-63aafd88"),e=e(),P(),e),Ve={class:"section-container login-container un-select"},Se={class:"body fix-width"},Ue={class:"top"},qe=R(()=>t("div",{class:"top-title"},"账号密码登录",-1)),Ee={class:"main"},Oe=R(()=>t("div",{class:"foot-link clearFix"},null,-1)),Me={key:0,class:"foot-link"},Te=I({name:"Login"}),Ke=Object.assign(Te,{setup(e){const n=u(!0),i=ae(()=>{n.value=!T()},50);return U(()=>{n.value=!T()}),oe(()=>{window.addEventListener("resize",i)}),se(()=>{window.removeEventListener("resize",i)}),(r,l)=>{const c=m("el-divider");return h(),b("div",Ve,[t("div",Se,[t("div",Ue,[s(ge,{class:"logos"}),qe]),t("div",Ee,[s(Le),Oe,n.value?(h(),b("div",Me,[s(c,{"content-position":"center"},{default:_(()=>[S("其他方式登录")]),_:1}),s($(ye))])):j("",!0)])]),s($(pe))])}}}),ft=x(Ke,[["__scopeId","data-v-63aafd88"]]);export{ft as default};
