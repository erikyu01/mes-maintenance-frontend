import{_ as q,i as H}from"../../assets/index-dad82031.js";import{H as x,_ as W,j as P,w as J,u as S,i as N,f as _,$ as K,o as m,c as h,U as y,K as F,a as p,I as k,V as o,S as X,n as A,z as L,J as T,E as Q,ah as V,O as Y,P as l,T as C,F as Z,a8 as tt}from"../@vue/@vue.e2fe22e8.js";import{i as M}from"../echarts/echarts.a488085e.js";import{a as et}from"../axios/axios.4a70c6fc.js";import{V as at,G as nt,S as it,F as B,a as E,C as rt,b as ot,c as st,M as lt,T as ct,O as ut}from"../ol/ol.10794914.js";import"../element-plus/element-plus.d7de122a.js";import"../lodash-es/lodash-es.facb48df.js";import"../@element-plus/@element-plus.5b94a560.js";import"../@popperjs/@popperjs.c75af06c.js";import"../@ctrl/@ctrl.f8748455.js";import"../dayjs/dayjs.b8791c9c.js";import"../clipboard/clipboard.45ef5b9b.js";import"../async-validator/async-validator.dee29e8b.js";import"../memoize-one/memoize-one.297ddbcb.js";import"../escape-html/escape-html.bccd5692.js";import"../normalize-wheel-es/normalize-wheel-es.ed76fb12.js";import"../@floating-ui/@floating-ui.682dc3ac.js";import"../pinia/pinia.261327f3.js";import"../js-cookie/js-cookie.edb2da2a.js";import"../geotiff/geotiff.41c905a7.js";import"../vue-router/vue-router.62ea77a8.js";import"../path-to-regexp/path-to-regexp.6c7b4327.js";import"../fuse.js/fuse.js.88e2763d.js";import"../path-browserify/path-browserify.cb69e156.js";import"../screenfull/screenfull.b3e6dc1f.js";import"../vue-i18n/vue-i18n.90b8095f.js";import"../@intlify/@intlify.771bffe6.js";import"../mitt/mitt.f7ef348c.js";import"../@vueuse/@vueuse.bcdec864.js";import"../nprogress/nprogress.6ec30c0f.js";/* empty css                                 */import"../xe-utils/xe-utils.78945774.js";import"../vxe-table/vxe-table.e2a848aa.js";import"../vue3-lottie/vue3-lottie.dd2d606e.js";import"../lottie-web/lottie-web.88e5cf38.js";import"../tslib/tslib.54e39b60.js";import"../zrender/zrender.8ba198c0.js";import"../rbush/rbush.5ee9c05f.js";import"../quickselect/quickselect.f3892974.js";let I=0;const R="webkit moz ms o".split(" ");let f,w;const dt=typeof window>"u";if(dt)f=function(){},w=function(){};else{f=window.requestAnimationFrame,w=window.cancelAnimationFrame;let e;for(let a=0;a<R.length&&!(f&&w);a++)e=R[a],f=f||window[e+"RequestAnimationFrame"],w=w||window[e+"CancelAnimationFrame"]||window[e+"CancelRequestAnimationFrame"];(!f||!w)&&(f=function(a){const t=new Date().getTime(),n=Math.max(0,16-(t-I)),i=window.setTimeout(()=>{a(t+n)},n);return I=t+n,i},w=function(a){window.clearTimeout(a)})}const pt=x({name:"YuCountTo",props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2021},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimals:{type:Number,required:!1,default:0,validator(e){return e>=0}},color:{type:String,default:""},fontSize:{type:String,default:""},decimal:{type:String,required:!1,default:"."},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Function,default(e,a,t,n){return t*(-Math.pow(2,-10*e/n)+1)*1024/1023+a}}},emits:["mounted","callback"],setup(e,{emit:a}){const t=W({localStartVal:e.startVal,displayValue:r(e.startVal),printVal:null,paused:!1,localDuration:e.duration,startTime:null,timestamp:null,remaining:null,rAF:null,color:null,fontSize:"16px"}),n=P(()=>e.startVal>e.endVal);J([()=>e.startVal,()=>e.endVal],()=>{e.autoplay&&i()});function i(){const{startVal:u,duration:d,color:b,fontSize:c}=e;t.localStartVal=u,t.startTime=null,t.localDuration=d,t.paused=!1,t.color=b,t.fontSize=c,t.rAF=f(s)}function s(u){const{useEasing:d,easingFn:b,endVal:c}=e;t.startTime||(t.startTime=u),t.timestamp=u;const g=u-t.startTime;t.remaining=t.localDuration-g,d?S(n)?t.printVal=t.localStartVal-b(g,0,t.localStartVal-c,t.localDuration):t.printVal=b(g,t.localStartVal,c-t.localStartVal,t.localDuration):S(n)?t.printVal=t.localStartVal-(t.localStartVal-c)*(g/t.localDuration):t.printVal=t.localStartVal+(c-t.localStartVal)*(g/t.localDuration),S(n)?t.printVal=t.printVal<c?c:t.printVal:t.printVal=t.printVal>c?c:t.printVal,t.displayValue=r(t.printVal),g<t.localDuration?t.rAF=f(s):a("callback")}function r(u){const{decimals:d,decimal:b,separator:c,suffix:g,prefix:U}=e;u=Number(u).toFixed(d),u+="";const $=u.split(".");let O=$[0];const G=$.length>1?b+$[1]:"",z=/(\d+)(\d{3})/;if(c&&!H(c))for(;z.test(O);)O=O.replace(z,"$1"+c+"$2");return U+O+G+g}return N(()=>{e.autoplay&&i(),a("mounted")}),{styleObj:_({color:e.color,fontSize:e.fontSize}),...K(t)}}});function mt(e,a,t,n,i,s){return m(),h("span",{style:F(e.styleObj)},y(e.displayValue),5)}const D=q(pt,[["render",mt]]),ft=Object.assign(D,{install(e){e.component(D.name,D)}});const _t={class:"bg-primary card-item"},ht={class:"card-body"},gt={class:"card-body-icon"},yt={class:"text-white"},wt={class:"text-uppercase text-white"},bt={class:"text-white mb24"},xt={key:0},vt={class:"badge-box"},St={class:"card-info"},Vt=x({name:"Card"}),Tt=Object.assign(Vt,{props:{start:{type:Number,default:1},end:{type:Number,default:9527},duration:{type:Number,default:3e3},title:{type:String,default:"Title"},prefix:{type:String,default:""},postfix:{type:String,default:""}},setup(e){return(a,t)=>(m(),h("div",_t,[p("div",ht,[p("div",gt,[k(a.$slots,"icon")]),p("div",yt,[p("h6",wt,y(e.title),1),p("h2",bt,[o(S(ft),{"start-val":e.start,"end-val":e.end,duration:e.duration,prefix:e.prefix,class:"card-panel-num"},null,8,["start-val","end-val","duration","prefix"]),e.postfix?(m(),h("span",xt,y(" "+e.postfix),1)):X("",!0)]),p("div",vt,[k(a.$slots,"badge")]),p("div",St,[k(a.$slots,"info")])])])]))}}),Nt=x({name:"RaddarChart"}),Ot=Object.assign(Nt,{props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},setup(e){const a=e,t=3e3,n=_(null),i=_(null),s=()=>{n.value=M(i.value),n.value.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},radar:{radius:"66%",center:["50%","42%"],splitNumber:8,splitArea:{areaStyle:{color:"rgba(127,95,132,.3)",opacity:1,shadowBlur:45,shadowColor:"rgba(0,0,0,.5)",shadowOffsetX:0,shadowOffsetY:15}},indicator:[{name:"Low",max:1e4},{name:"Medium",max:2e4},{name:"High",max:2e4},{name:"Urgent",max:2e4},{name:"Others",max:2e4},{name:"None",max:2e4}]},legend:{left:"center",bottom:"10",data:["Preventive","Reactive","Others"]},series:[{type:"radar",symbolSize:0,areaStyle:{shadowBlur:13,shadowColor:"rgba(0,0,0,.2)",shadowOffsetX:0,shadowOffsetY:10,opacity:1},data:[{value:[5e3,7e3,12e3,11e3,15e3,14e3],name:"Preventive"},{value:[4e3,9e3,15e3,15e3,13e3,11e3],name:"Reactive"},{value:[5500,11e3,12e3,15e3,12e3,12e3],name:"Others"}],animationDuration:t}]})};return N(()=>{A(()=>{s()})}),L(()=>{n.value&&(n.value.dispose(),n.value=null)}),(r,v)=>(m(),h("div",{class:T(a.className),style:F({height:a.height,width:a.width}),ref_key:"container",ref:i},null,6))}}),Ct=x({name:"BarChart"}),Ft=Object.assign(Ct,{props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},setup(e){const a=e,t=_(null),n=_(null),i=()=>{t.value=M(n.value),t.value.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",bottom:"10",data:["Labor","Spare Parts","Tools","Inspections","Others"]},series:[{name:"WEEKLY WRITE ARTICLES",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:[{value:320,name:"Labor"},{value:240,name:"Spare Parts"},{value:149,name:"Tools"},{value:100,name:"Inspections"},{value:59,name:"Others"}],animationEasing:"cubicInOut",animationDuration:2600}]})};return N(()=>{A(()=>{i()})}),L(()=>{t.value&&(t.value.dispose(),t.value=null)}),(s,r)=>(m(),h("div",{class:T(a.className),style:F({height:a.height,width:a.width}),ref_key:"container",ref:n},null,6))}}),$t=x({name:"BarChart"}),kt=Object.assign($t,{props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},setup(e){const a=e,t=6e3,n=_(null),i=_(null),s=()=>{n.value=M(i.value),n.value.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:10,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisTick:{show:!1}}],series:[{name:"pageA",type:"bar",stack:"vistors",barWidth:"60%",data:[79,52,200,334,390,330,220],animationDuration:t},{name:"pageB",type:"bar",stack:"vistors",barWidth:"60%",data:[80,52,200,334,390,330,220],animationDuration:t},{name:"pageC",type:"bar",stack:"vistors",barWidth:"60%",data:[30,52,200,334,390,330,220],animationDuration:t}]})};return N(()=>{A(()=>{s()})}),L(()=>{n.value&&(n.value.dispose(),n.value=null)}),(r,v)=>(m(),h("div",{class:T(a.className),style:F({height:a.height,width:a.width}),ref_key:"container",ref:i},null,6))}}),Dt=x({name:"TransactionTable"}),jt=Object.assign(Dt,{setup(e){let a=_([]);const t=W({newList:P(()=>{const i={准备就绪:"success",进行中:"warning",已完成:"info",待审核:"danger"};return a.value&&a.value.length>0?a.value=a.value.map(s=>({...s,statusStr:i[s.status]||"info"})):a.value=[],a.value})});Q(()=>{n()});const n=async()=>{try{const i=await et.get("/api/workorders");a.value=i.data.data}catch(i){console.error("Failed to fetch work orders:",i)}};return(i,s)=>{const r=V("el-table-column"),v=V("el-tag"),u=V("el-table");return m(),Y(u,{ref:"multipleTable",data:t.newList,"tooltip-effect":"dark",style:{width:"100%"}},{default:l(()=>[o(r,{label:"截止日期",width:"150"},{default:l(d=>[C(y(d.row.截止日期),1)]),_:1}),o(r,{label:"工单号","min-width":"200"},{default:l(d=>[C(y(d.row.工单号),1)]),_:1}),o(r,{label:"进度",width:"100",align:"center"},{default:l(d=>[o(v,{type:d.row.statusStr},{default:l(()=>[C(y(d.row.进度),1)]),_:2},1032,["type"])]),_:1}),o(r,{label:"创建者",prop:"创建者","min-width":"150"}),o(r,{label:"优先级",prop:"优先级","min-width":"100"})]),_:1},8,["data"])}}});const qt={id:"map",class:"map"},At={__name:"index",setup(e){const a=new at({url:"https://openlayers.org/en/latest/examples/data/geojson/switzerland.geojson",format:new nt}),t=new it({fill:new B({color:"rgba(255, 255, 255, 0.6)"}),stroke:new E({color:"#319FD3",width:1}),image:new rt({radius:5,fill:new B({color:"rgba(255, 255, 255, 0.6)"}),stroke:new E({color:"#319FD3",width:1})})}),n=new ot({source:a,style:t}),i=new st({center:[0,0],zoom:4});function s(){new lt({target:"map",layers:[new ct({source:new ut}),n],view:i})}return N(()=>{s()}),(r,v)=>(m(),h("div",qt))}},j=q(At,[["__scopeId","data-v-a508676a"]]),Lt=Object.assign(j,{install(e){e.component(j.name,j)}});const Mt={class:"dashboard-editor-container"},zt={class:"chart-wrapper"},Bt={class:"chart-wrapper"},Et={class:"chart-wrapper"},It={__name:"index",setup(e){const a=_([{id:1,end:6666,duration:3e3,title:"Work Orders",icon:"yu-icon-lifangti",badge:{className:"bg-info",txt:"+56%"},info:"From previous period"},{id:2,end:95270,duration:3e3,prefix:"￥",title:"Maintenance Cost",icon:"yu-icon-chanpin1",badge:{className:"bg-danger",txt:"+78%"},info:"From previous period"},{id:3,end:4.5,duration:1e3,postfix:"hrs",title:"Average Downtime",icon:"yu-icon-jiagebiaoqian",badge:{className:"bg-warning",txt:"-5.2%"},info:"From previous period"},{id:4,end:67,duration:3e3,title:"Equipment Inspected",icon:"yu-icon-icon_xinyong_xianxing_jijin-129",badge:{className:"bg-info",txt:"+22%"},info:"From previous period"}]);return(t,n)=>{const i=V("el-col"),s=V("el-row");return m(),h("div",Mt,[o(s,{gutter:20},{default:l(()=>[(m(!0),h(Z,null,tt(a.value,r=>(m(),Y(i,{xs:12,sm:12,lg:6,key:r.id},{default:l(()=>[o(Tt,{end:r.end,duration:r.duration,title:r.title,prefix:r.prefix,postfix:r.postfix},{icon:l(()=>[p("i",{class:T(["fr",r.icon])},null,2)]),badge:l(()=>[p("span",{class:T(["badge",r.badge.className])},y(r.badge.txt),3)]),info:l(()=>[C(y(r.info),1)]),_:2},1032,["end","duration","title","prefix","postfix"])]),_:2},1024))),128))]),_:1}),o(s,{gutter:20,class:"chats-container"},{default:l(()=>[o(i,{xs:24,sm:24,lg:8},{default:l(()=>[p("div",zt,[o(Ot)])]),_:1}),o(i,{xs:24,sm:24,lg:8},{default:l(()=>[p("div",Bt,[o(Ft)])]),_:1}),o(i,{xs:24,sm:24,lg:8},{default:l(()=>[p("div",Et,[o(kt,{"class-name":"test"})])]),_:1})]),_:1}),o(s,{gutter:20,class:"table-list"},{default:l(()=>[o(i,{span:16},{default:l(()=>[o(jt)]),_:1}),o(i,{span:8,style:{}},{default:l(()=>[o(S(Lt))]),_:1})]),_:1})])}}},Oe=q(It,[["__scopeId","data-v-a7b986f5"]]);export{Oe as default};
